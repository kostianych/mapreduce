CREATE TABLE CARD (
    ID_CARD INTEGER,
    BIRTHDATE DATE,
    SOATO_CODE INTEGER,
    PRIMARY KEY (ID_CARD)
);

CREATE TABLE CASE_HISTORY (
    ID_CASE INTEGER,
    CARD_ID INTEGER,
    CLINIC_ID INTEGER,
    ADMISSION_DATE TIMESTAMP, 
    MOVEMENT_ID INTEGER,
    DISCHARGE_DATE TIMESTAMP,
    DISCHARGE_RESULT INTEGER,
    PRIMARY KEY (ID_CASE),
    FOREIGN KEY (CARD_ID) REFERENCES CARD(ID_CARD)
);


delete from CARD;
COMMIT;

insert into CARD (ID_CARD, BIRTHDATE, SOATO_CODE) values (1, '1982-01-01', null);
insert into CARD (ID_CARD, BIRTHDATE, SOATO_CODE) values (2, '2000-02-03', null);
insert into CARD (ID_CARD, BIRTHDATE, SOATO_CODE) values (3, '2008-04-09', null);
insert into CARD (ID_CARD, BIRTHDATE, SOATO_CODE) values (4, '1979-12-31', null);
insert into CARD (ID_CARD, BIRTHDATE, SOATO_CODE) values (5, '1991-11-27', null);

COMMIT;

delete from CASE_HISTORY;
COMMIT;

insert into CASE_HISTORY(ID_CASE, CARD_ID, ADMISSION_DATE, DISCHARGE_DATE,  DISCHARGE_RESULT)
  values (1, 1, '2006-02-12 08:00:00', null, 1);
insert into CASE_HISTORY(ID_CASE, CARD_ID, ADMISSION_DATE, DISCHARGE_DATE,  DISCHARGE_RESULT)
  values (2, 2, '2006-02-12 09:00:00', null, 1);
insert into CASE_HISTORY(ID_CASE, CARD_ID, ADMISSION_DATE, DISCHARGE_DATE,  DISCHARGE_RESULT)
  values (3, 3, '2006-01-11 14:00:00', '2006-02-12 14:45:00', 1);
insert into CASE_HISTORY(ID_CASE, CARD_ID, ADMISSION_DATE, DISCHARGE_DATE,  DISCHARGE_RESULT)
  values (4, 4, '2006-01-10 16:00:00', '2006-02-12 12:33:00', 1);
insert into CASE_HISTORY(ID_CASE, CARD_ID, ADMISSION_DATE, DISCHARGE_DATE,  DISCHARGE_RESULT)
  values (5, 5, '2006-01-09 15:00:00', '2006-02-12 23:59:00', 2);

COMMIT;







